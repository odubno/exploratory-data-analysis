---
title: "Homework 1"
author: Oleh Dubno
date: 01/25/18
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, warning = FALSE,
                      message = FALSE)
```


*For all questions involving histograms, choose a sensible binwidth and breakpoints, unless otherwise indicated.*

### 1. Income

a) Describe in detail the features you observe in the boxplots below, plotted with data from the *ex0525* dataset, **Sleuth3** page. (see page 29 in *Graphical Data Analysis in R* for a list of features to concentrate on, and the numbered list on the bottom of page 43 for an example of how to describe features of a graph in words.) [5 points]

```{r}
# install.packages("Sleuth3")
library(Sleuth3)
library(tidyverse)

# convert Educ from an integer to a factor, and make "<12" the first factor level 
mydata <- ex0525 %>% 
  dplyr::mutate(Educ = forcats::fct_relevel(Educ, "<12"))

ggplot(mydata, aes(Educ, Income2005)) +
  geom_boxplot() + 
  coord_flip()   # for horizontal boxplots
```
* Income and the years of education have a positive relationship. As the years of education increase so does income. Variability in income increases as education goes up. Looking at 16>, there's a crazy outlier with $600,000 +. There's simply a general trend of people earning more if they spend more time in school. *

b) Plot a histogram of the `Income2005` variable in the dataset referenced in part a). [3 points]
```{r}
ggplot(ex0525, aes(x=Income2005)) +
  geom_histogram()
```

c) Use `+facet_wrap(~Educ)` to facet the histogram on education level. [3 points]
```{r}
ggplot(ex0525, aes(Income2005)) +
  geom_histogram() +
  facet_wrap(~Educ)
```
d) What do you learn from the histograms that wasn't apparent in the boxplots from question 1? [3 points]
* It's now way easier to see the distribution and where the data is concentrated. We could now see that there are more people who completed 12 years of school. There's an inverse relationship between number of participants and their years of education. As the years of education increase the number of people participating goes down. *

### 2. Respiratory Rates

a) Plot right closed and right open histograms for each of the two variables in the *ex0824* dataset in the **Sleuth3** package using default binwidths and breaks. (4 histograms in total). [4 points]

```{r}
hist(ex0824$Age, left=TRUE, right=FALSE)
hist(ex0824$Age, left=FALSE, right=TRUE)
hist(ex0824$Rate, left=TRUE, right=FALSE)
hist(ex0824$Rate, left=FALSE, right=TRUE)
```

b) For which variable, `Age` or `Rate`, do the two versions differ more? Why? [3 points]
* The "Rate" historgram differs more. The reason being is because the data is continuous as opposed to "Age" that's discrete. * 

c) Redraw the `Age` histograms with different parameters so that the right closed and right open versions are identical. [3 points]

```{r}
hist(ex0824$Age, breaks=2, left=TRUE, right=FALSE)
hist(ex0824$Age, breaks=2, left=FALSE, right=TRUE)
```

### 3. Movie budgets

Are there rounding patterns in the `budget` variable of the *movies* in the **ggplot2movies** package? If so, what are the patterns? (Note: according to the textbook this dataset is in the **ggplot2** package, but it has since been moved to a separate package.) Support your conclusions with graphical evidence. You are encouraged to break the variable down into different budget ranges and consider them separately. [8 points] 

```{r}
# install.packages("ggplot2movies")
library(ggplot2movies)
```
```{r}
attach(m)
m[order(length, decreasing = TRUE), ]
detach(m)
```

```{r}
# ??ggplot2movies::movies
head(m)
```

```{r}
summary(m$budget)
```


```{r}
m <- ggplot2movies::movies
ggplot(m, aes(x=budget)) +
  geom_histogram()
```

### 4. Finches

a) Plot separate density histograms of the beak depth of the finches in *case0201* from the **Sleuth3** package, with density curves overlaid as on page 34 of the textbook. (However, do this by facetting on `Year` rather than using `grid.arrange`). [3 points]


b) Plot both density curves on the same graph to facilitate comparison. Make 1976 yellow and 1978 blue.  Use alpha blending so the fills are transparent. [3 points]

c) Based on your graphs in parts a) and b), describe how the distributions differ by year. [3 points]

d) What is the cause of the difference according to the information in the help file? [3 points]

### 5. Salary

Is the `Salary` variable in the *case0101* of **Sleuth3** normally distributed?  Use two different graphical methods to provide evidence. [6 points]
